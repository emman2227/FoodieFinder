<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Management</title>
    <link rel="stylesheet" href="assets/menu-management.css">
</head>
<body>
    <div class="menu-container">
        <h1>Menu</h1>

        <div class="add-menu-item">
            <h2>Add New Menu Item</h2>
            <label for="item-name">Item Name:</label>
            <input type="text" id="item-name" placeholder="Enter item name">

            <label for="item-price">Price:</label>
            <input type="number" id="item-price" placeholder="Enter price" min="0">

            <label for="item-category">Category:</label>
            <select id="item-category">
                <option value="snack">Snack</option>
                <option value="meal">Meal</option>
                <option value="beverage">Beverage</option>
            </select>

            <label for="item-image">Upload Image:</label>
            <input type="file" id="item-image" accept="image/*">
            <img id="image-preview" src="" alt="Image Preview" style="display:none;">

            <button class="add-btn">Add Item</button>
        </div>

        <div class="menu-list">
            <h2>Current Menu</h2>
            <table>
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Category</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="menu-items">
                    <!-- Menu items will be dynamically added here -->
                </tbody>
            </table>
        </div>
    </div>

    <script>
        document.getElementById("item-image").addEventListener("change", function(event) {
            let reader = new FileReader();
            reader.onload = function() {
                let preview = document.getElementById("image-preview");
                preview.src = reader.result;
                preview.style.display = "block";
            }
            reader.readAsDataURL(event.target.files[0]);
        });

        document.querySelector(".add-btn").addEventListener("click", function() {
            let name = document.getElementById("item-name").value;
            let price = document.getElementById("item-price").value;
            let category = document.getElementById("item-category").value;
            let image = document.getElementById("image-preview").src;

            if (!name || !price || !category || !image) {
                alert("Please fill all fields and upload an image.");
                return;
            }

            let menuTable = document.getElementById("menu-items");
            let newRow = document.createElement("tr");

            newRow.innerHTML = `
                <td><img src="${image}" alt="Menu Item" class="menu-item-img"></td>
                <td>${name}</td>
                <td>â‚±${price}</td>
                <td>${category}</td>
                <td><button class="delete-btn">Delete</button></td>
            `;

            menuTable.appendChild(newRow);

            newRow.querySelector(".delete-btn").addEventListener("click", function() {
                newRow.remove();
            });

            // Clear input fields
            document.getElementById("item-name").value = "";
            document.getElementById("item-price").value = "";
            document.getElementById("item-category").value = "snack";
            document.getElementById("image-preview").src = "";
            document.getElementById("image-preview").style.display = "none";
        });
    </script>
</body>
</html>
